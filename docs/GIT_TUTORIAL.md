# Git

## Что такое Git?
### Git - система контроля версий.
#### Если бы Git не существовал
Представим, что есть файл N.txt, в котором мы напишем "*Это первая запись в файле N*" и сохраним его. Второй раз мы напишем в нем "*Это пятая запись в файле N*" и сохраним его.
И получается, что мы совершили ошибку, ведь это лишь вторая запись, нужно было написать "*Это вторая запись в файле N*". А как теперь вернуть изменения? Получается - никак.
Нужно было сохранить вторую запись в файле N_second.txt, и у нас уже было бы 2 файла: N.txt и N_second.txt - в первом файле была бы первая версия текста,
то есть "Это первая запись в файле N", а во втором "Это пятая запись в файле N".

#### С использованием Git
А теперь рассмотрим ситуацию с Git. У нас также есть файл N.txt, в котором мы напишем "*Это первая запись в файле N*", скажем: "*Git, проследи за этим файлом и сохрани его текущее состояние, я буду называть текущее состояние данного файла '**Первая версия**'*". Теперь в файле N.txt хранится текст "*Это первая запись в файле N*".
Второй раз мы напишем в нем "*Это пятая запись в файле N*", и скажем: "*Git, сохрани измененное состояние файлая буду называть текущее состояние данного файла '**Вторая версия**'*". Теперь в файле хранится текст "*Это пятая запись в файле N*".
Что произошло? У нас остался один единственный файл, но Git хранит две его версии. Первая версия - "**Первая версия**". Вторая - "**Вторая версия**".
А теперь мы осознаем, что мы допустили ошибку во второй версии файла. Но это совсем не страшно, так как мы можем попросить Git: "Git, верни файл N.txt к первой версии".
И теперь мы открываем файл N.txt и видим текст "*Это первая запись в файле N*". И таких сохранений могут быть сотни.

Да, у нас файл был небольшой, можно было бы просто открыть файл и исправить это одно слово с *пятая* на *вторая*,
но файл так же мог содержать сотни тысяч строк кода, в котором какой-то программист изменил бы 50 строк, которые неверные. И тут было бы уже очень сложно откатить изменения вручную.

## Переходим к практике
Для демонстрации будет использоваться тестовый репозиторий, созданный заранее.

### Клонирование репозитория
* Репозиторий - папка, содержащая код, контролируемая Git, грубо говоря. Сокращенно говорят "*repo*"
* Клонирование - скачивание текущей версии данного репозитория
* Команда для клонирования: git clone https://ссылка_на_репу

#### 1. Копируем сылку 
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/1.png)
#### 2. Переходим в рабочую дерикторию, кликаем правой кнопкой мыши, выбираем *Git bash here*
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/2.png)
#### 3. Пишем команду для клонирования репы в терминал, ждем, пока клонирование завершится
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/3.png)
#### 4. Переходим в репозиторий, в нашем случае он называется *"test"*. Видим, что он пуст
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/4.png)
#### 5. Открываем в нем терминал (см. пункт 2). Проверим его статус командой git status. На данный момент сохранять нечего
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/5.png)

### Создание версии
* Создадим файл для демонстрации
* Скажем Git проследить за нашим новым файлом
* Скажем Git создать версию
* Попросим Git проверить, не поступило ли изменений в наш репозиториев от других программистов
* Скажем Git отослать новую версию на удаленное хранилище, в нашем случае - **GitHub**

#### 1. Создаем файл, сохраняем
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/6.png)
#### 2. Проверяем, увидел ли Git наличие нового файла в репе
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/7.png)
#### 3. Говорим Git проследить за этим файлом командой "git add ." (. - текущая дериктория)
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/8.png)
#### 4. Говорим Git создать верисю, которую мы будем называть "*The first version!*"
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/commit.png)
#### 5. Проверяем командой "git log" появилась ли новая версия
* Зеленый - название версии
* Красный - автор версии (Те данные, что вы указывали в git config --global user.name/email будут отображаться здесь. см. [Установка Git](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/GIT_INSTALLATION.md))
* Розовый - текущая ветка
* Желтый - уникальный идентификатор сохранения (коммита).
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/9.png)
#### 6. Просим Git командой *"git pull"* проверить, не поступило ли изменений в наш репозиториев от других программистов. Говорим отослать новую версию на удаленное хранилище
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/10.png)
#### 7. Заходим на GitHub, видим наш новый файл
* Красный - название файла
* Зеленый - название версии (коммита)
* Желтый - количество коммитов
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/11.png)
#### 8. Кликнув на количество коммитов, мы можем увидеть ту же информацию, что и в пятом пункте.
* Красный - самая первая версия репозитория
* Зеленый - новая версия, которую мы только что создали
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/12.png)
#### 9. Кликнув на наш первый коммит -> Browse code, мы можем увидеть как выглядел наш репозиторий в старой версии (До того, как мы создали новый файл).
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/13.png)
#### 10. Теперь вернемся к нашей новой версии, и изменим наш файл прямо на GitHub, после чего закоммитим (создадим еще одну версию).
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/14.png)
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/15.png)

Теперь наш файл содержит текст "Вторая запись в новом файле".

#### 11. Новая версия есть, но только на удаленном хранилище. Чтобы обновить ее у нас на компьютере, мы вводим команду *git pull*, находясь в нашем репозитории
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/16.png)
#### 12. Открываем файл и видим, что файл обновился.
![alt text](https://github.com/2048-IT-Engineers/library_service/blob/master/docs/assets/git_tutor/17.png)

## Шпаргалка
    git clone https://ссылка_на_репу - клонировать репозиторий
    git status - проверить статус репозитория
    git add . - попросить Git проследить за файлом. (точка в означает все файлы в текущей папке. Можно написать названия нужных файлов, разницы не будет.)
    git commit -m "Название коммита" - закоммитить изменения. Идет СТРОГО после "git add"
    git pull - Обновить репозиторий (синхронизировать с удаленным хранилищем (GitHub))
    git push origin name_of_branch - Отправить новую версию на GitHub. master - название главной ветки, которую я использовал в примере
